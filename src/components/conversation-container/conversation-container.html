<div class="conversation-container overflow-auto h-full" id="conversation-container" @scroll="handleScroll">
    <div class="conversation-body" ref="conversation-body">
        <div :class="{
                'sender bg-green-200': message.senderId !== receiver.id,
                'receiver bg-gray-300': message.senderId === receiver.id
                      }" v-for="(message, index) in conversation" :key="index">
            <div class="image-holder flex justify-center flex-col items-center"
                 v-if="message.attachments && message.attachments.file">
                <img v-if="typeof message.attachments.file === 'string'" @click="showAttachments(message._id)" class="rounded"
                     :src="getImageUrl(message.attachments.file) " alt="">
                <span v-else class="fa fa-spinner fa-spin text-3xl text-gray-700"></span>
                <div v-if="typeof message.attachments.file !== 'string'">uploading</div>
            </div>
            <div class="text-message text-left text-sm text-gray-800" v-html="message.message"></div>
            <div class="status text-right text-xs text-gray-600">
                <span v-if="checkCreatedAt(message.createdAt)" class="fa fa-check"></span>
                <span v-else class="fa fa-circle-notch fa-spin"></span>
            </div>
            <div class="text-right text-xs text-gray-600">{{getMessageTime(message.createdAt)}}</div>
        </div>
        <div v-if="conversation.length === 0" class="py-5 text-center text-lg">
            Start Conversation ...
        </div>
    </div>
</div>
